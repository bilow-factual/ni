Codecs.
Codecs are reversible programs that assign formats to data, often examining the
data in the process. They record all decisions made during execution into a
separate stream, which means that no information is lost while they run.
Structurally, here's what codec decoding looks like:

| <input stream of bytes> (input)
            |     \
            V      \
         <codec> -> packets (output)
            |      /
            V     /
      <aux stream> (output)

The aux stream contains packets encoded in a codec-state format; the last of
these is preserved between ni_stream_read calls and contains the codec's
internal state. The aux stream grows as necessary because of this. Field
lookups cross both streams, since decisional constructs and record polymorphism
both emit tracing data.

TODO: how are auxiliary fields allocated?
